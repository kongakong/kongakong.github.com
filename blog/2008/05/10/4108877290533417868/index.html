
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>The Importance of Being Nosy (Nosetests, Really) - Timeline</title>
  <meta name="author" content="Anthony Kong">

  
  <meta name="description" content="Unit testing One of a few important lessons I learn from Java development is the importance of unit test. It is of course not a silver bullet to the &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://kongakong.github.io/blog/2008/05/10/4108877290533417868">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Timeline" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Timeline</a></h1>
  
    <h2>My development logbook</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:kongakong.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/tags">Tags</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">The Importance of Being Nosy (Nosetests, Really)</h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-05-10T04:04:00+10:00" pubdate data-updated="true">May 10<span>th</span>, 2008</time>
        
      </p>
    
  </header>


<div class="entry-content"><p><span style="font-weight: bold;">Unit testing </span><br /><br />One of a few important lessons I learn from Java development is the importance of unit test. It is of course not a silver bullet to the software reliability/quality problem, but the consequence not adopting it can only be more dire.<br /><br />I used only <a href="http://www.junit.org/">JUnit </a>to implement unit tests in Java (Since JUnit is &ldquo;good enough&rdquo;, I never explore the alternative framework <a href="http://testng.org/doc/index.html">TestNG</a>.). Actually, problems in writing unit tests usually have very little to do with the frameworks themselves, but more with:<br /><br /><span style="font-weight: bold;">A</span>. The legacy code base you want to test against. For example, if the existing code base design is not modular enough, you have to go through some refactoring process to make unit testing possible. It is not the kind of luxury we can afford very often.<br /><br /><span style="font-weight: bold;">B.</span> Mock objects. <a href="http://www.easymock.org/">EasyMock</a> has made mocking a dependency easier, but maintaining the mock object codes still requires considerable effort.<br /><br /><span style="font-weight: bold;">Unit testing and Python</span><br /><br />I think unit testing is even more important for Python programmers.<br /><br />Since everything happens in runtime for Python, errors in your scripts, no matter syntactical or logical, will not be caught until you actually execute the line of code where the bug lives.</p>

<br/><br/>


<p>On top of it, a majority of commercial/in-house software contains so many features. The sheer number of possible combination of the execution pathways means thorough manual testing is simply unattainable, if not unrealistic.<br /><br />If at the end of the day, a production issue in your python software arises and it turns out to be &ldquo;incorrect indentation&rdquo;, the managers and users will look down on you pretty hard (&ldquo;Did you really test it?&rdquo;). Unit test + coverage tools can help us to avoid these kind of situation.<br /><br />Besides, unit tests can be used to safeguard corner cases and exceptional conditions. For financial applications, one of those commonly-seen mistakes is that a program fails to perform properly when a certain event (e.g. rollover) happens on a public holiday. With unit testing, we can subject the relevant codes to different combination of date and instruments, so we can make sure it will, for instance, calculate accrual correctly no matter what.<br /><br />Comparing Java, I find it easier to do unit testing in Python because, with Python&rsquo;s &ldquo;Duck Typing&rdquo; capability, we do not have to worry about maintaining mock objects at all. Whenever you need to mimic a dependency&rsquo;s behavior, just write a dummy class with just enough attributes/methods the testee expects. End of story.<br /><br />No more record and play APIs, as in EasyMock.<br /><br /><span style="font-weight: bold;">Nosetests makes it easy </span><br /><br />
So, you can understand why I am so glad to find <a href="http://www.somethingaboutorange.com/mrl/projects/nose/">nose</a>. Nosetests is, in a nutshell, a unit test discovery tool. It can traverse down a python source code directory and pick up classes that extends <a href="http://docs.python.org/lib/testcase-objects.html">unittest.Testcase</a>, <a href="http://docs.python.org/lib/module-doctest.html">doc test</a>, and any classes/methods that follow the <a href="http://www.somethingaboutorange.com/mrl/projects/nose/#writing-tests">default naming convention</a>. I can now mix any testing styles depending on the task at hand.<br /><br />I usually use the following parameters with nosetests:<br /><br /><pre style="border: 1px dashed rgb(153, 153, 153); padding: 5px; overflow: auto; font-family: Andale Mono,Lucida Console,Monaco,fixed,monospace; color: rgb(0, 0, 0); background-color: rgb(238, 238, 238); font-size: 12px; line-height: 14px; width: 100%;"><code><br />&mdash;verbosity=3 &mdash;with-doctest -s &mdash;exe<br /><br /></code></pre><br />&ldquo;&mdash;exe&rdquo; is necessary because in <a href="http://www.cygwin.com/">cygwin</a>, my primary development environment, py files are usually set to be &ldquo;executable&rdquo;.<br /><br /><span style="font-weight: bold;">Feedback</span><br /><br />Do you have any tips and idea on unit testing/software quality assurance to share? Feel free.<br /><br /></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Anthony Kong</span></span>

      








  


<time datetime="2008-05-10T04:04:00+10:00" pubdate data-updated="true">May 10<span>th</span>, 2008</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/nosetest/'>nosetest</a>, <a class='category' href='/blog/categories/python/'>python</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://kongakong.github.io/blog/2008/05/10/4108877290533417868/" data-via="kongakong" data-counturl="http://kongakong.github.io/blog/2008/05/10/4108877290533417868/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2008/05/02/4938064958000018731/" title="Previous Post: I would hardly use the "success stories" as the au...">&laquo; I would hardly use the "success stories" as the au...</a>
      
      
        <a class="basic-alignment right" href="/blog/2008/05/11/8223543480784387429/" title="Next Post: Ant">Ant &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/06/29/keep-vi-swp-file-in-tmp/">Keep Vi Swp File in Tmp</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/28/problem-with-shifting-python-code-right-in-emacs/">Problem With Shifting Python Code Right in Emacs</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/23/good-and-bad-of-octopress/">Good and Bad of Octopress</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/22/git-status-says-file-is-modified-even-if-dot-dot-dot/">Git Status Says File Is Modified Even If...</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/22/dyld-library-not-loaded/">Dyld: Library Not Loaded</a>
      </li>
    
  </ul>
</section>
<section>
 <h1>Twitter</h1>
 <a class="twitter-timeline" href="https://twitter.com/kongakong" >@kongakong</a>
</section>
<section>
  <h1>About Me</h1>
  <p>Python Developer</p>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Anthony Kong -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
