<!DOCTYPE html>

<meta charset=utf-8>
<title>Timeline</title>
<link rel=stylesheet href=../backup.css>

<body class=post>

<article class=regular id=p-6104327299>
<p class=meta><span class=date>02/06/2011 21:08:00</span>
<a class=llink href=../posts/6104327299.html>¶</a>
<a href=http://www.ahwkong.com/post/6104327299 rel=canonical>●</a></p>
<h2>Item 16:  Assign to all data members in operator=</h2>
<p>For a derived class, a way to achieve this is by reusing base class&#8217;s <code>=</code> operator: 

<pre class="brush: c">

// correct assignment operator
Derived&amp; Derived::operator=(const Derived&amp; rhs)
{
   if (this == &amp;rhs) return *this;
   Base::operator=(rhs);    // call this-&gt;Base::operator=
   y = rhs.y;
   return *this;
}

</pre>

Some compilers (incorrectly) reject this kind of call to a base class&#8217;s assignment operator if that assignment operator was generated by the compiler.

So, alternatively, we can do:
<pre class="brush: c">
Derived&amp; Derived::operator=(const Derived&amp; rhs)
{
   if (this == &amp;rhs) return *this;
   static_cast&lt;Base&amp;&gt;(*this) = rhs;      // call operator= on
                                        // Base part of *this
   y = rhs.y;
   return *this;
}
</pre></p>
<p class=tags>#c++ #Effective C++</p>
</article>
