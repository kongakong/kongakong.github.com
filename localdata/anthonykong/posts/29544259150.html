<!DOCTYPE html>

<meta charset=utf-8>
<title>Timeline</title>
<link rel=stylesheet href=../backup.css>

<body class=post>

<article class=regular id=p-29544259150>
<p class=meta><span class=date>16/08/2012 19:35:00</span>
<a class=llink href=../posts/29544259150.html>¶</a>
<a href=http://www.ahwkong.com/post/29544259150 rel=canonical>●</a></p>
<h2>Delete a row from UITableView</h2>
<p>To enable the swipe to delete feature, one must implement this API:</p>

<p><code>- (void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle
                                            forRowAtIndexPath:(NSIndexPath *)indexPath</code></p>

<p>I can enable this feature, but I got this exception from this function</p>

<pre>
2012-08-11 22:30:46.286 app[76532:fb03] *** Terminating app due to uncaught exception
 'NSInternalInconsistencyException', reason: 'Invalid update: invalid number of rows in section 0.  
The number of rows contained in an existing section after the update (10) must be equal to the 
number of rows contained in that section before the update (10), plus or minus the number of rows 
inserted or deleted from that section (0 inserted, 1 deleted) and plus or minus the number of rows 
moved into or out of that section (0 moved in, 0 moved out).'
</pre>

<p>It turns out even though I removed the object from the CoreDate managed context, I did not ask the NSFetchedResultsController to refetch the data set. The UITableView is still bound to the old data set and hence the internal inconsistency.</p>
<p class=tags>#ios #uitableview</p>
</article>
