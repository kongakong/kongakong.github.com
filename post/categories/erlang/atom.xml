<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: erlang | Timeline]]></title>
  <link href="http://www.ahwkong.com/post/categories/erlang/atom.xml" rel="self"/>
  <link href="http://www.ahwkong.com/"/>
  <updated>2014-08-29T21:50:17+10:00</updated>
  <id>http://www.ahwkong.com/</id>
  <author>
    <name><![CDATA[Anthony Kong]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Ex 2.2]]></title>
    <link href="http://www.ahwkong.com/post/2014/08/29/ex-2-dot-2/"/>
    <updated>2014-08-29T14:59:00+10:00</updated>
    <id>http://www.ahwkong.com/post/2014/08/29/ex-2-dot-2</id>
    <content type="html"><![CDATA[<p><strong>Exercise 2.2</strong> (Andersson [And91D]) In the worst case, member performs approximately 2d comparisons, where d is the depth of the tree. Rewrite member to take no more than d + 1 comparisons by keeping track of a candidate element that might be equal to the query element (say, the last element for which &lt; returned false or &lt; returned true) and checking for equality only when you hit the bottom of the tree.)</p>

<p>{% codeblock lang:erlang %}</p>

<p>-module(ex2_2).
-export([make_sample_tree/0, test_insert/0]).</p>

<p>-record(treenode, {key, value}).
-record(tree, {left, treenode=#treenode{}, right}).</p>

<p>make_node(K, V) &ndash;></p>

<pre><code>TN = #treenode{key=K, value=V},
T = #tree{treenode=TN},
T.  
</code></pre>

<p>make_node(K, V, LeftTree, RightTree) &ndash;></p>

<pre><code>TN = #treenode{key=K, value=V},
T = #tree{treenode=TN, left=LeftTree, right=RightTree},
T.  
</code></pre>

<p>insert_tree_node(undefined, K, V) &ndash;></p>

<pre><code>make_node(K, V); 
</code></pre>

<p>insert_tree_node(#tree{left=LT, treenode=#treenode{key=CurK, value=<em>CurV}, right=</em>RT}=T, K, V) when K &lt; CurK  &ndash;></p>

<pre><code>LT1=insert_tree_node(LT, K, V), 
T1=T#tree{left=LT1},
T1; 
</code></pre>

<p>insert_tree_node(#tree{left=<em>LT, treenode=#treenode{key=CurK, value=</em>CurV}, right=RT}=T, K, V) when K > CurK  &ndash;></p>

<pre><code>RT1=insert_tree_node(RT, K, V), 
T1=T#tree{right=RT1},
T1; 
</code></pre>

<p>% when K == CurK
insert_tree_node(T, _K, V)  when is_record(T, tree) &ndash;></p>

<pre><code>T#tree{treenode=#treenode{value=V}}.
</code></pre>

<p>%% routines for testings
%%
make_sample_tree() &ndash;></p>

<pre><code>Left = make_node(1, 1), 
Right = make_node(5, 5), 
T = make_node(3, 3, Left, Right),
T.  
</code></pre>

<p>test_insert() &ndash;></p>

<pre><code>T = make_sample_tree(),
T1 = insert_tree_node(T, 7, 7), 
io:format("old ~p~n", [T]),
io:format("new ~p~n", [T1]).
</code></pre>

<p>{% endcodeblock %}</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ex 2.1]]></title>
    <link href="http://www.ahwkong.com/post/2014/08/27/ex-1/"/>
    <updated>2014-08-27T10:02:00+10:00</updated>
    <id>http://www.ahwkong.com/post/2014/08/27/ex-1</id>
    <content type="html"><![CDATA[<p><strong>Exercise 2.1</strong> Write a function suffixes of type a list &ndash;> a list of list that takes a list xs and returns a list of all the suffixes of xs in decreasing order of length. For example,</p>

<pre><code>suffixes [1,2,3,4] = [[1,2,3,4], [2,3,4], [3,4], [4], [ ] ]
</code></pre>

<p>Show that the resulting list of suffixes can be generated in O(n) time and rep- resented in O(n) space.</p>

<p>{% codeblock lang:erlang %}</p>

<p>-module(e2_1).</p>

<p>-export([suffixes/1]).</p>

<p>suffixes(L) &ndash;> suffixes(L, []).</p>

<p>suffixes([H|T], R)</p>

<pre><code>-&gt; suffixes(T, [[H|T]|R]);
</code></pre>

<p>suffixes([], R) &ndash;> lists:reverse([[]|R]).</p>

<p>{% endcodeblock %}</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[9x9 suduko solver]]></title>
    <link href="http://www.ahwkong.com/post/2014/03/24/9x9-suduko-solver/"/>
    <updated>2014-03-24T07:15:00+11:00</updated>
    <id>http://www.ahwkong.com/post/2014/03/24/9x9-suduko-solver</id>
    <content type="html"><![CDATA[<p>Based on the <a href="post/2014/03/16/2x2-suduko-solver">previous version</a></p>

<p>It takes advantage of the parameter pattern matching of erlang, but not much else. There is a lot of room for improvement.</p>

<p>{% include_code sudoku9x9 lang:erlang linenos:true erlang/sudoku9x9.erl  %}</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[4x4 suduko solver in erlang]]></title>
    <link href="http://www.ahwkong.com/post/2014/03/16/2x2-suduko-solver/"/>
    <updated>2014-03-16T17:05:00+11:00</updated>
    <id>http://www.ahwkong.com/post/2014/03/16/2x2-suduko-solver</id>
    <content type="html"><![CDATA[<p>Very crappy code written in a couple of hours.</p>

<p>It implements backtracking in a procedural way.</p>

<p>{% include_code sudoku2x2 lang:erlang linenos:true erlang/sudoku4x4.erl  %}</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[sometimes it is not obvious at the beginning]]></title>
    <link href="http://www.ahwkong.com/post/2014/03/15/sometimes-it-is-not-obvious-at-the-beginning/"/>
    <updated>2014-03-15T15:49:00+11:00</updated>
    <id>http://www.ahwkong.com/post/2014/03/15/sometimes-it-is-not-obvious-at-the-beginning</id>
    <content type="html"><![CDATA[<p>I want to create a function for use as a predicate in the function <code>lists:any</code>. I try it first in erlang shell,</p>

<pre><code>137&gt; F = fun(X) -&gt; X == 1 end.
#Fun&lt;erl_eval.6.80484245&gt;
</code></pre>

<p>It works as expected:</p>

<pre><code>138&gt; lists:any(F, [2, 3]).
false
139&gt; lists:any(F, [2, 1, 3]).
true
</code></pre>

<p>Then I want to change the condition to something else, and I got an error message:</p>

<pre><code>140&gt; F = fun(X) -&gt; X /= 1 end.
** exception error: no match of right hand side value #Fun&lt;erl_eval.6.80484245&gt;
</code></pre>

<p>My first thought: It is interesting&hellip; Did I mix up the &lsquo;not equal&rsquo; operator in erlang? Maybe it is not &lsquo;/=&rsquo;?</p>

<p>It turns out it is because the code at 140 is effectively an attempt to rebound the <code>F</code> variable. The error message is actually about this rather than the operator. I do not usually test code in the erlang shell, so it took me a while to figure it out.</p>
]]></content>
  </entry>
  
</feed>
