<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: objective-c | Timeline]]></title>
  <link href="http://www.ahwkong.com/post/categories/objective-c/atom.xml" rel="self"/>
  <link href="http://www.ahwkong.com/"/>
  <updated>2014-03-04T18:51:46+11:00</updated>
  <id>http://www.ahwkong.com/</id>
  <author>
    <name><![CDATA[Anthony Kong]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[NSLog macro]]></title>
    <link href="http://www.ahwkong.com/post/2014/03/03/nslog-macro/"/>
    <updated>2014-03-03T08:11:00+11:00</updated>
    <id>http://www.ahwkong.com/post/2014/03/03/nslog-macro</id>
    <content type="html"><![CDATA[<p>This is a useful marco for doing debug logging:</p>

<p>{% codeblock lang:objective-c %}</p>

<h1>define DLog(msg, &hellip;) do { \</h1>

<p>  NSString *dLogString = [NSString stringWithFormat:@&ldquo;%s: %@&rdquo;, <strong>PRETTY_FUNCTION</strong>, msg]; \
  NSLog(@&ldquo;%@&rdquo;, <strong>VA_ARGS</strong>); \
} while (0)</p>

<p>{% endcodeblock %}</p>

<p>Note the use of <code>__PRETTY_FUNCTION__</code></p>

<p><a href="https://coderwall.com/p/2ko3la">Source</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Create a NSArray from NSMutualArray]]></title>
    <link href="http://www.ahwkong.com/post/2014/02/28/create-a-nsarray-from-nsmutualarray/"/>
    <updated>2014-02-28T19:31:00+11:00</updated>
    <id>http://www.ahwkong.com/post/2014/02/28/create-a-nsarray-from-nsmutualarray</id>
    <content type="html"><![CDATA[<p>It is so simple</p>

<p>{% codeblock lang:objective-c %}</p>

<p>// m is a NSMutualArray
NSArray* n = [NSArray arrayWithArray:m];</p>

<p>{% endcodeblock %}</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[CAGradientLayer]]></title>
    <link href="http://www.ahwkong.com/post/2014/02/22/cagradientlayer/"/>
    <updated>2014-02-22T13:57:00+11:00</updated>
    <id>http://www.ahwkong.com/post/2014/02/22/cagradientlayer</id>
    <content type="html"><![CDATA[<p>{% codeblock lang:objective-c %}</p>

<pre><code>CAGradientLayer *gradient = [CAGradientLayer layer];
gradient.frame = self.view.bounds;
gradient.colors = @[ [colorOne CGColor], [colorTwo CGColor] ];
return gradient;
</code></pre>

<p>{% endcodeblock %}</p>

<p>The above code will cause this compiler error:</p>

<pre><code>/path/to/MyViewController.m:31:26: Collection element of type 'CGColorRef' (aka 'struct CGColor *') is not an Objective-C object
</code></pre>

<p>It can be fixed by casting to <code>id</code></p>

<p>{% codeblock lang:objective-c %}</p>

<pre><code>CAGradientLayer *gradient = [CAGradientLayer layer];
gradient.frame = self.view.bounds;
gradient.colors = @[ (id)[colorOne CGColor], (id) [colorTwo CGColor] ];
return gradient;
</code></pre>

<p>{% endcodeblock %}</p>

<p>It is a new behavior due to the use of ARC</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Some objective-c note-to-self]]></title>
    <link href="http://www.ahwkong.com/post/2014/02/19/some-objective-c-note-to-self/"/>
    <updated>2014-02-19T02:11:00+11:00</updated>
    <id>http://www.ahwkong.com/post/2014/02/19/some-objective-c-note-to-self</id>
    <content type="html"><![CDATA[<p>To find the number of items in a <code>NSArray</code> use</p>

<pre><code>[array count];
</code></pre>

<p>It is not <code>size</code> (python) or <code>length</code> (java)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[NSNotification and view controller]]></title>
    <link href="http://www.ahwkong.com/post/2014/02/19/nsnotification-and-view-controller/"/>
    <updated>2014-02-19T02:02:00+11:00</updated>
    <id>http://www.ahwkong.com/post/2014/02/19/nsnotification-and-view-controller</id>
    <content type="html"><![CDATA[<p>I have created a number of custom UIViewControllers for UICollectionViewCell programmatically (Apple makes it really easy to create good looking GUI. <code>AutoLayout</code> is not as bad as I heard from the blogsphere. But I digress).</p>

<p>Now I want to be able to have these UIViewController to subscribe to an adhoc NSNotification. I have ensured that there is no typo in the my notification name (The name is defined in a header file). I have also make sure the notification is fired on the main thread, like so:</p>

<pre><code>dispatch_async(dispatch_get_main_queue(),^{
    [[NSNotificationCenter defaultCenter] postNotificationName:NOTIFICATION_NAME object:self];
});
</code></pre>

<p>However my UIViewControllers still do not receive any notification at all.</p>

<p>It turns out it is because the controllers instances have gone out of scope. I found out by putting a <code>NSLog</code> in the <code>dealloc</code> method. It proves that the controllers have gone out of scope.</p>

<p> In order to keep them around in memory, I added a <code>NSMutableDictionary</code> to keep reference to these controllers. Will test if it has any adverse effect or not.</p>
]]></content>
  </entry>
  
</feed>
