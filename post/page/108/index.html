
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Timeline</title>
	<meta name="author" content="Anthony Kong">

	
	<meta name="description" content="Hopefully we do not need to worry too much about this item anymore, because most problems covered by it are due to older compilers that are not &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta rel="cannonical" href="www.ahwkong.com"

	<link href="/atom.xml" rel="alternate" title="Timeline" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">Timeline</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:kongakong.github.io">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		<a class="google" href="https://plus.google.com/107508522522146376690?rel=author" title="Google+">Google+</a>
		
		
		<a class="twitter" href="http://twitter.com/kongakong" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/kongakong" title="GitHub">GitHub</a>
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:kongakong.github.io">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/post/2011/06/05/p-6197165707/">
		
			Item 33: Use Inlining Judiciously</a>
	</h2>
	<div class="entry-content">
		<p>Hopefully we do not need to worry too much about this item anymore, because most problems covered by it are due to older compilers that are not compilant to the later c++ standard of ‘outlined inliner’ (i.e. what to do when a compiler chooses not to inline a function for whatever reason)</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-06-05T12:09:00+10:00" pubdate data-updated="true">Jun 5<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/post/categories/effective-c-plus-plus/'>Effective_C++</a>, <a class='category' href='/post/categories/c-plus-plus/'>c++</a>, <a class='category' href='/post/categories/self-study/'>self-study</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/post/2011/06/05/p-6196784167/">
		
			Item 32: Postpone Variable Definitions as Long as Possible</a>
	</h2>
	<div class="entry-content">
		<p>Because calling constructor is expensive</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-06-05T11:57:00+10:00" pubdate data-updated="true">Jun 5<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/post/categories/effective-c-plus-plus/'>Effective_C++</a>, <a class='category' href='/post/categories/c-plus-plus/'>c++</a>, <a class='category' href='/post/categories/self-study/'>self-study</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/post/2011/06/05/p-6196683746/">
		
			Item 31: Never Return a Reference to a Local Object or to a Dereferenced Pointer Initialized by New Within the Function</a>
	</h2>
	<div class="entry-content">
		<p>The first part is easy to understand: scope issue</p>

<p>The second part is important because it will lead to memory leak. (Related to item 23 and operator overload)</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-06-05T11:54:00+10:00" pubdate data-updated="true">Jun 5<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/post/categories/effective-c-plus-plus/'>Effective_C++</a>, <a class='category' href='/post/categories/c-plus-plus/'>c++</a>, <a class='category' href='/post/categories/self-study/'>self-study</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/post/2011/06/05/p-6196319451/">
		
			Item 23 Revisited</a>
	</h2>
	<div class="entry-content">
		<p>Revisiting <a href="/blog/2011/06/04/p-6172106672">Item 23: Don&rsquo;t Try to Return a Reference When You Must Return an Object</a></p>

<p>While the title sounds rather generic, the main content is about what is appropriate to return from various operator functions.</p>

<p>SO has a more</p>

<p><a href="http://stackoverflow.com/questions/4421706/operator-overloading/4421729">in-depth treatment</a></p>

<p>In the case of binary operators, here is a good example of the function declaration/implementation:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='c++'><span class='line'><span class="k">class</span> <span class="nc">X</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">X</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">+=</span><span class="p">(</span><span class="k">const</span> <span class="n">X</span><span class="o">&amp;</span> <span class="n">rhs</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>    <span class="c1">// actual addition of rhs to *this </span>
</span><span class='line'>    <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">};</span>
</span><span class='line'><span class="kr">inline</span> <span class="n">X</span> <span class="k">operator</span><span class="o">+</span><span class="p">(</span><span class="n">X</span> <span class="n">lhs</span><span class="p">,</span> <span class="k">const</span> <span class="n">X</span><span class="o">&amp;</span> <span class="n">rhs</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">lhs</span> <span class="o">+=</span> <span class="n">rhs</span><span class="p">;</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">lhs</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p>Note the parameter lhs is passed into <code>operator+</code> via copying.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-06-05T11:42:00+10:00" pubdate data-updated="true">Jun 5<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/post/categories/effective-c-plus-plus/'>Effective_C++</a>, <a class='category' href='/post/categories/c-plus-plus/'>c++</a>, <a class='category' href='/post/categories/self-study/'>self-study</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/post/2011/06/05/p-6194235311/">
		
			Item 30: Avoid Member Functions That Return Non-const Pointers or References to Members Less Accessible Than Themselves</a>
	</h2>
	<div class="entry-content">
		<p>For example, one should try to avoid</p>

<ol>
<li><p>Returning a handle of a private member variable via public member functions</p></li>
<li><p>Returning a pointer of a private function via public interface</p></li>
</ol>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-06-05T10:35:00+10:00" pubdate data-updated="true">Jun 5<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/post/categories/effective-c-plus-plus/'>Effective_C++</a>, <a class='category' href='/post/categories/c-plus-plus/'>c++</a>, <a class='category' href='/post/categories/self-study/'>self-study</a>


</div>
	
</div>
</article>

<nav id="pagenavi">
    
        <a href="/post/page/107/" class="prev">Prev</a>
    
    
        <a href="/post/page/109/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2013

    Anthony Kong

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->






</body>
</html>