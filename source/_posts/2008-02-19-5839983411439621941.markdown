---
layout: post
title: Erlang Mailing List - String as List 3
date:  2008-02-19 08:15
comments: true
categories: erlang
meta: 
---
This is the last installment of the digest of the topic of "String as List".<br /><span class="HcCDpe"><span email="hasan.veldstra@gmail.com" class="EP8xU" style="color: rgb(204, 0, 96);"><br />Hasan Veldstra</span></span> opined that lack of library support make string operation difficult. He was working on an Erlang Unicode string library based on ICU (<a href="http://www.icu-project.org/" target="_blank">http://www.icu-project.org/</a>) for the past week, and expected to release an alpha version soon.<br /><br /><span class="HcCDpe"><span email="exta7@walla.com" class="EP8xU" style="color: rgb(0, 148, 134);">Zvi</span>  <span class="lDACoc"></span></span>suggested that in the case of 64 bit implementation of Erlang, a "String as list" representation is wasteful.<br /><br /><span class="HcCDpe"><span email="ok@cs.otago.ac.nz" class="EP8xU" style="color: rgb(121, 6, 25);">Richard A. O'Keefe </span> seems to be annoyed by this suggestion (and other comment on Lisp machine), and advocated that if space is a concern, the programmer can use an alternative representation such as binary.<br /></span><br /><span class="HcCDpe"><span email="rvirding@gmail.com" class="EP8xU" style="color: rgb(200, 137, 0);">Robert Virding </span></span>clarify the leex (function token/2 and token/3) is re-entrant. However, yecc is not and must be fed with a completed list of token.<br /><br /><span class="HcCDpe"><span email="dmitriid@gmail.com" class="EP8xU" style="color: rgb(121, 6, 25);">Dmitrii 'Mamut' Dimandt </span> </span>gave an example of why "string as list" is bad idea, because:<br /><blockquote style="font-style: italic;"><br />"This is only true for ASCII text. Non-ASCII gets screwed up badly.<br /><br />lists:reverse("text")     %% gives you "text"<br />lists:reverse("текст")  %% Russian for text becomes [130,209,129,209,186,208,181<div bgcolor="#ffffff" text="#000000"><wbr>,208,130,209] which is clearly not I wanted"</div></blockquote><div bgcolor="#ffffff" text="#000000"><br /></div>  <span class="HcCDpe"><span email="chsu79@gmail.com" class="EP8xU" style="color: rgb(91, 16, 148);">Christian S</span>  <span class="lDACoc">has a solution to this problem:<br /><br /></span></span><blockquote style="font-style: italic;">"This is what you should have in your list:<br />1> Text = [16#442, 16#435, 16#43a, 16#441, 16#442].<br />[1090,1077,1082,1089,1090]<br /><br />You can convert it to utf8 for output<br /><br />2> xmerl_ucs:to_utf8(Text).<br />[209,130,208,181,208,186,209<div id="1fvf" class="ArwC7c ckChnd"><wbr>,129,209,130]<br /><br />And you can reverse it and convert that to utf8.<br /><br />3> xmerl_ucs:to_utf8(lists<wbr>:reverse(Text)).<br />[209,130,209,129,208,186,208<wbr>,181,209,130]"<br /></div></blockquote><div id="1fvf" class="ArwC7c ckChnd"><br />A positive message from <span class="HcCDpe"><span email="bjorn@erix.ericsson.se" class="EP8xU" style="color: rgb(51, 0, 153);">Bjorn Gustavsson</span></span>. He confirmed that is possible to use lists of Unicode characters easily. In Wings 3D, he have implemented a limited support for Unicode.<br /><br /><span class="HcCDpe"><span email="erlang@gmail.com" class="EP8xU" style="color: rgb(0, 131, 145);">Joe Armstrong</span></span> weighted in on 19 Feb. He suggested "One problem with strings unicode, regexps etc. is how you input the string.". He proposed several new syntax to capture regex or xml string.<br /><br />Basically from this point onward the thread has shifted gear into forward looking mood. The discussion now focused on the best way to represent a string in Erlang.<br /><br /><br /></div>